# ═══════════════════════════════════════════════════════════
# ENVIRONNEMENT DE PRODUCTION - Anjou Explore
# ═══════════════════════════════════════════════════════════
#
# ⚠️ NE PAS COMMITER CE FICHIER AVEC DE VRAIES VALEURS
#
# Créer .env.production avec les vraies valeurs
# Ce fichier est utilisé pour créer les Secrets Kubernetes
#
# ═══════════════════════════════════════════════════════════

# ───────────────────────────────────────────────────────────
# APPLICATION
# ───────────────────────────────────────────────────────────
NODE_ENV=production
APP_URL=https://anjouexplore.ratons.ovh
PORT=4321

# ───────────────────────────────────────────────────────────
# BASE DE DONNÉES (PostgreSQL)
# ───────────────────────────────────────────────────────────
# URL complète utilisée par Prisma
DATABASE_URL="postgresql://anjouexplore:CHANGEME_DB_PASSWORD@postgres:5432/anjouexplore?schema=public"

# Credentials PostgreSQL (utilisés par le StatefulSet)
POSTGRES_USER=anjouexplore
POSTGRES_PASSWORD=CHANGEME_DB_PASSWORD
POSTGRES_DB=anjouexplore

# ───────────────────────────────────────────────────────────
# AUTHENTIFICATION & SÉCURITÉ
# ───────────────────────────────────────────────────────────
# Note : Les mots de passe admins sont individuels et stockés en BDD (table Admin)
# Ils sont configurés lors du seed initial : bun run db:seed
# Chaque admin (José, Fabien, Benoît, Adrien) a son propre mot de passe + secret 2FA

# Secret JWT (minimum 32 caractères, utiliser un générateur aléatoire)
# Générer avec: openssl rand -hex 32
JWT_SECRET="CHANGEME_64_RANDOM_CHARS_MIN"

# Durée de validité des sessions JWT (en heures)
JWT_EXPIRATION_HOURS=24

# 2FA (toujours activé en production)
ENABLE_2FA=true

# ───────────────────────────────────────────────────────────
# EMAIL (Resend.com)
# ───────────────────────────────────────────────────────────
# Clé API Resend (https://resend.com/api-keys)
RESEND_API_KEY="re_CHANGEME"

# Email expéditeur
EMAIL_FROM="anjouexplore@gmail.com"

# ───────────────────────────────────────────────────────────
# PAIEMENTS (SumUp)
# ───────────────────────────────────────────────────────────
# Clé API SumUp (https://developer.sumup.com/)
SUMUP_API_KEY="sup_sk_CHANGEME"

# Code marchand SumUp
SUMUP_MERCHANT_CODE="M74XACCM"

# Email destinataire des paiements
SUMUP_PAY_TO_EMAIL="adrienlem2@gmail.com"

# ───────────────────────────────────────────────────────────
# SÉCURITÉ WEB
# ───────────────────────────────────────────────────────────
# CORS : Origins autorisés (séparés par des virgules)
CORS_ORIGINS="https://anjouexplore.ratons.ovh,https://www.anjouexplore.ratons.ovh"

# Cookies sécurisés (toujours true en production avec HTTPS)
COOKIE_SECURE=true

# ───────────────────────────────────────────────────────────
# PGADMIN (Optionnel - si déployé)
# ───────────────────────────────────────────────────────────
PGADMIN_DEFAULT_EMAIL="admin@ratons.ovh"
PGADMIN_DEFAULT_PASSWORD="CHANGEME_PGADMIN_PASSWORD"

# ───────────────────────────────────────────────────────────
# BACKUPS S3 (Optionnel - Scaleway/AWS)
# ───────────────────────────────────────────────────────────
# Endpoint S3 (Scaleway Paris ou AWS)
S3_ENDPOINT="https://s3.fr-par.scw.cloud"

# Nom du bucket
S3_BUCKET="anjouexplore-backups"

# Clés d'accès S3
S3_ACCESS_KEY_ID="CHANGEME"
S3_SECRET_ACCESS_KEY="CHANGEME"

# Région
S3_REGION="fr-par"
